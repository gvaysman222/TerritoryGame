{% extends "base.html" %}
{% load static %}

{% block content %}

<div class="content-container">
    <!-- Информация о магазине -->
    <div class="store-info text-center">
        <h1>Добро пожаловать в "Территорию игр"</h1>
        <p>Ваш лучший выбор для настольных игр, варгеймов и других увлекательных развлечений!</p>
    </div>

    <!-- Преимущества компании -->
    <div class="company-advantages text-center">
        <div class="dropdown-wrapper">
            <button id="toggle-btn" class="dropdown-btn">Наши преимущества</button>
            <div id="dropdown-content" class="dropdown-content">
                <ul>
                    <li>Широкий ассортимент настольных игр на любой вкус</li>
                    <li>Только качественная продукция от проверенных производителей</li>
                    <li>Удобные способы оплаты и доставки</li>
                    <li>Регулярные акции и скидки для постоянных клиентов</li>
                    <li>Профессиональная поддержка и консультации по выбору игр</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Популярные товары -->
    <div class="popular-products mt-5">
        <h2 class="text-center mb-4">Популярные товары</h2>
        <div class="products-container d-flex flex-wrap justify-content-center gap-4">
            {% for product in popular_products|slice:":4" %}
                <div class="product-card card shadow-sm" style="width: 18rem;">
                    <img src="{{ product.image_url }}" alt="{{ product.name }}" class="card-img-top">
                    <div class="card-body text-center">
                        <h5 class="card-title">{{ product.name }}</h5>
                        <p class="card-text">{{ product.price|floatformat:2 }} руб.</p>
                        <a href="{% url 'Game_Territory:product_detail' product.id %}" class="btn btn-dark">Подробнее</a>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const toggleBtn = document.getElementById("toggle-btn");
        const dropdownContent = document.getElementById("dropdown-content");

        toggleBtn.addEventListener("click", () => {
            if (dropdownContent.style.maxHeight) {
                dropdownContent.style.maxHeight = null; // Сворачиваем блок
            } else {
                dropdownContent.style.maxHeight = dropdownContent.scrollHeight + "px"; // Раскрываем блок
            }
        });
    });
</script>

{% endblock %}
